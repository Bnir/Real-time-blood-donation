<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/load.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/welcome.css">
    <script src="https://kit.fontawesome.com/1b792d3ec8.js" crossorigin="anonymous"></script>
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js"></script>
    <script>
      window.OneSignalDeferred = window.OneSignalDeferred || [];
      window.OneSignal = window.OneSignal || [];
      OneSignalDeferred.push(async function(OneSignal) {
        await OneSignal.init({
          appId: "373b674b-3f20-4483-89cc-a00b78d93e75",
          allowLocalhostAsSecureOrigin: true,
          promptOptions: {
            slidedown: {
              enabled: true,        
              actionMessage: "We'd like to send you notifications for updates.",
              acceptButtonText: "Allow",
              cancelButtonText: "No, thanks"
            }
        }
    });

    
});

    OneSignal.push(async()=>{
        try{
        await OneSignal.getExternalUserId('2800');
    }
    catch(e) {
        await OneSignal.setExternalUserId('2800');
    };


    await OneSignal.getUserId((player)=>{
        console.log("Player ID: " +player);
    });
    })
      </script>
    <title>Home</title>
</head>
<body>
    <div class="wrapper" id="loader">
        <div class="box-wrap">
            <div class="box one"></div>
            <div class="box two"></div>
            <div class="box three"></div>
            <div class="box four"></div>
            <div class="box five"></div>
            <div class="box six"></div>
        </div>
    </div>
    <div class="others" id="content">
        <%- include('components/navbar')%>

        <div class="hero">

            <div class="title" style="text-align: center;">
                <h1>Every Drop Counts</h1>
                <h2>Be A Hero</h2>
            </div>
            <p class="donateStatus">
                <% if(active) { %>
                Donating Visibility: Active <span class="green"></span></p>
                    <% } else if (!active && userLoggedIn ) { %>
                Donating Visibility: Inactive <span class="red"></span></p>
                        <% } %>
            <div class="heroButtons">
                <button onclick="<% if(!userLoggedIn) { %> window.location.href = '/signin' <% } else{ %>window.location.href = '/donateblood'<% } %> ">Donate Blood</button>
               <button onclick="<% if(!userLoggedIn) { %> window.location.href = '/signin'<% } else{ %>window.location.href = '/requestblood'<% } %> ">Request Blood</button>
        </div>
           
        </div>
        <div class="mainSection">
            <div class="section whyDonate">
                <div class="left">
                    <h2>Why Your Blood Donation Matters?</h2>
                    <p>Every blood donation is a gift of life. By giving just a small amount of your time and blood, you help save lives, support critical medical treatments, and become a hero in someone else’s story. Join us in creating a healthier, stronger community—one donation at a time.</p>
                </div>
                <div class="right">
                    <img src="https://www.careerstep.com/wp-content/uploads/2020/02/phlebotomy-job.jpg" alt="">
                </div>
            </div>
        </div>
        <div class="aboutUsSection">
            <article class="container-two">
                <div class="col1">
                    <h1>WHO ARE <br> WE?</h1>
                    <p>A Website built by Code Rangers and we work for simplicity and efficiency. You have any Web Based idea which will make the world better? Just hit us up through the Contact us button below </p>
                    <button>Contact US</button>
                </div>
                <div class="col2">
                    <div class="im1"> <img src="images/Code-Rangers.jpg" alt=""></div>
                </div>
            </article>
        </div>
       
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="#about">About Us</a>
                    <a href="#contact">Contact</a>
                    <a href="#privacy">Privacy Policy</a>
                    <a href="#terms">Terms of Service</a>
                </div>
                <p>&copy; 2024 Blood Daani. All rights reserved.</p>
            </div>
        </footer>
        
    </div>
  
    <!-- <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
        window.OneSignalDeferred = window.OneSignalDeferred || [];
        window.OneSignalDeferred.push(async function(OneSignal) {
            await OneSignal.init({
                appId: "YOUR_APP_ID",
                notifyButton: {
                    enable: true
                },
                serviceWorkerParam: { scope: "/myPath/myCustomScope/" },
                serviceWorkerPath: "myPath/OneSignalSDKWorker.js",
            });
        });
    </script> -->

<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<!-- <script>

  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "373b674b-3f20-4483-89cc-a00b78d93e75",
      notifyButton: {
        enable: true,
      },
      serviceWorkerParam: { scope: "/" },
      serviceWorkerPath: "./OneSignalSDKWorker.js",
      
    }).then(()=>{
        OneSignal.showSlidedownPrompt();
    }).catch(console.error);
  });

</script> -->

    <script>

window.addEventListener('load', function() {
    const loader = document.getElementById('loader');
    const content = document.getElementById('content');
    
    const minLoadTime = 2000; 
    const startTime = performance.now();

    
    function hideLoader() {
        const elapsedTime = performance.now() - startTime;

        const delay = Math.max(0, minLoadTime - elapsedTime);
        
        setTimeout(() => {
            loader.style.display = 'none';
            content.style.display = 'block';
        }, delay);
    }

    hideLoader();
});


const navbar = document.querySelector('.navbar');
const leftSticky = document.querySelector('.left-nav');

const sticky = navbar.offsetTop;

function stickyNavbar() {
  if (window.pageYOffset > sticky) {
    leftSticky.classList.add('left-sticky');
    navbar.classList.add('sticky');
  } else {
    navbar.classList.remove('sticky');
    leftSticky.classList.remove('left-sticky');
  }
}

window.onscroll = function() {
    stickyNavbar();
};

    </script>
    
</body>
</html>